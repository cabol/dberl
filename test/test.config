[

%% SASL config
{sasl,
 [
  {sasl_error_logger, {file, "log/sasl-error.log"}},
  {errlog_type, error},
  {error_logger_mf_dir, "log/sasl"},      % Log directory
  {error_logger_mf_maxbytes, 10485760},   % 10 MB max file size
  {error_logger_mf_maxfiles, 5}           % 5 files max
 ]
},

%% dberl
{dberl,
 [
  %% Stores
  {stores,
   [
    {dberl_test,
     dberl_repo_couchbase,
     [
      {poolname, dberl_test_pool},
      {poolsize, 5},
      {host, "127.0.0.1:8091"},
      {username, ""},
      {password, ""},
      {bucket, "dberl_test"},
      {transcoder, dberl_repo_couchbase_transcoder},
      {q_args, [{stale, false}]}
     ]
    }
   ]
  }
 ]
},

%% LAGER
{lager,
 [
  {colored, true},
  {async_threshold, 200},
  {async_threshold_window, 5},
  {error_logger_hwm, 500},
  {handlers,
   [{lager_console_backend,
     [info,
      {lager_default_formatter,
       [color,
        time,
        " [", severity, "]", " ", pid, " [", {module, ""}, ":", {function, ""}, ":", {line, ""}, "] ", message, "\e[0m\n"
       ]
      }
     ]
    },
    {lager_file_backend,
     [
      {file, "log/debug.log"},
      {level, debug},
      {size, 10485760},
      {date, "$D0"},
      {count, 5}
     ]
    },
    {lager_file_backend,
     [
      {file, "log/error.log"},
      {level, error},
      {size, 10485760},
      {date, "$D0"},
      {count, 5}
     ]
    },
    {lager_file_backend,
     [
      {file, "log/console.log"},
      {level, info},
      {size, 10485760},
      {date, "$D0"},
      {count, 5}
     ]
    }
   ]
  }
 ]
}

 %% END
].